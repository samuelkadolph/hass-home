- sensor:
  - name: Laundry Room - Washer State
    unique_id: laundry_room_washer_state
    icon: mdi:washing-machine
    state: >
      {% if states("sensor.washer_job_state") in ["none", "unavailable"] -%}
        Off
      {%- else -%}
        {{ states("sensor.washer_job_state") | title }}
      {%- endif %}
    attributes:
      time_left: >
        {% if states("sensor.washer_completion_time") != "unavailable" -%}
          {% set delta = as_datetime(states("sensor.washer_completion_time")) - now() -%}
          {% set seconds = (delta | abs).seconds -%}
          {%- if seconds >= 5430 -%}
            {{ ((seconds / 3600 * 10) | round) / 10 }} hours
          {%- elif seconds >= 90 -%}
            {{ (seconds / 60) | round }} minutes
          {%- elif seconds >= 45 -%}
            1 minute
          {%- elif seconds == 1 -%}
            1 second
          {%- elif seconds == 0 -%}
            Now
          {%- else -%}
            {{ seconds }} seconds
          {%- endif %}
          {% if delta.days < 0 %}{{ " ago" }}{% endif %}
        {%- endif -%}

- sensor:
  - name: Laundry Room - Dryer State
    unique_id: laundry_room_dryer_state
    icon: mdi:tumble-dryer
    state: >
      {% if states("sensor.dryer_job_state") in ["none", "unavailable"] -%}
        Off
      {%- else -%}
        {{ states("sensor.dryer_job_state") | title }}
      {%- endif %}
    attributes:
      time_left: >
        {% if states("sensor.dryer_completion_time") != "unavailable" -%}
          {% set delta = as_datetime(states("sensor.dryer_completion_time")) - now() -%}
          {% set seconds = (delta | abs).seconds -%}
          {%- if seconds >= 5430 -%}
            {{ ((seconds / 3600 * 10) | round) / 10 }} hours
          {%- elif seconds >= 90 -%}
            {{ (seconds / 60) | round }} minutes
          {%- elif seconds >= 45 -%}
            1 minute
          {%- elif seconds == 1 -%}
            1 second
          {%- elif seconds == 0 -%}
            Now
          {%- else -%}
            {{ seconds }} seconds
          {%- endif %}
          {% if delta.days < 0 %}{{ " ago" }}{% endif %}
        {%- endif -%}
